<h2>Assessment Questions</h2>

@if (loading) {
  <p>Loading questions...</p>
}

@if (error) {
  <p class="error">{{ error }}</p>
}

<!-- ================= ADD FORM ================= -->
<div class="card">

  <h3>Add Question</h3>

  <textarea [(ngModel)]="questionText" placeholder="Question"></textarea>

  <input [(ngModel)]="optionA" placeholder="Option A">
  <input [(ngModel)]="optionB" placeholder="Option B">
  <input [(ngModel)]="optionC" placeholder="Option C">
  <input [(ngModel)]="optionD" placeholder="Option D">

  <select [(ngModel)]="correctOption">
    <option value="A">Correct: A</option>
    <option value="B">Correct: B</option>
    <option value="C">Correct: C</option>
    <option value="D">Correct: D</option>
  </select>

  <button class="primary" (click)="addQuestion()">Add</button>

</div>

<!-- ================= TABLE ================= -->
@if (!loading && questions.length > 0) {
  <table>
    <tr>
      <th>Question</th>
      <th>Correct</th>
      <th>Actions</th>
    </tr>

    @for (q of questions; track q.id) {
      <tr>
        <td>{{ q.questionText }}</td>
        <td>{{ q.correctOption }}</td>
        <td>
          <button class="danger" (click)="deleteQuestion(q.id)">Delete</button>
        </td>
      </tr>
    }
  </table>
}

@if (!loading && questions.length === 0) {
  <p>No questions added yet.</p>
}